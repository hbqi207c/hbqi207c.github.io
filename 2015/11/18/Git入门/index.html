<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Git入门 · VincentQi</title><meta name="description" content="在Windows上安装msysgit是windows版的git，下载地址：msysgit，然后选择默认安装即可。开始菜单找到Git-&amp;gt;Git Bash，打开弹出类似命令行的窗口就安装成功了，安装完成后在命令行输入：12git config --global user.name &quot;Your Name&quot;git config --global user.email &quot;email@example.com&quot;&lt;/t"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="http://fonts.useso.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">博客</a></li><li class="nav-list-item"><a href="http://weibo.com/sunchongsheng" target="_blank" class="nav-list-link">微博</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li><li class="nav-list-item"><a href="https://github.com/pinggod" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h2 class="post-title"><a href="/2015/11/18/Git入门/" class="post-title-link">Git入门</a></h2><div class="post-meta"><div class="post-time">Nov 18, 2015</div></div><div class="post-content"><h3 id="在Windows上安装">在Windows上安装</h3><p>msysgit是windows版的git，下载地址：<a href="https://git-for-windows.github.io/" target="_blank" rel="external">msysgit</a>，然后选择默认安装即可。开始菜单找到Git-&gt;Git Bash，打开弹出类似命令行的窗口就安装成功了，安装完成后在命令行输入：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">"Your Name"</span></span><br><span class="line">git config --global user.email <span class="string">"email@example.com"</span></span><br></pre></td></tr></table></figure></p>
<p>注意：<code>git config</code>命令的<code>--config</code>参数说明这台机器上所有的Git仓库都会使用这个配置，也可以对某个仓库指定不同的用户名和Email</p>
<a id="more"></a>
<h3 id="创建版本库">创建版本库</h3><p>版本库就是一个仓库REPOSITORY，也可以理解成就是一个目录，这个目录里面所有的文件都可以被Git管理起来，每个文件的修改删除Git都能跟踪和还原</p>
<p>创建一个版本库很简单，选择一个合适的目录（目录不要包含中文，否则可能会出现莫名其妙的错误），右键选择GIt Bush Here弹出命令行窗口，输入<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br></pre></td></tr></table></figure></p>
<p>命令行返回<code>Initialized empty Git repository in /xx/xx/xx/.git/</code>则说明仓库已经建好，而且高速你这是一个空仓库，目录中出现一个.git目录，如果你没看到可能它隐藏了，并且不能删掉这个目录也不能乱改</p>
<p>在目录下新建一个readme.txt（推荐使用Sublime-Text3，不要使用windows的记事本因为它会在每个文件开头添加了0xefbbbf（十六进制）的字符，会遇到很多不可思议的问题），内容如下<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Git <span class="keyword">is</span> <span class="keyword">a</span> <span class="keyword">version</span> control <span class="built_in">system</span>.</span><br><span class="line">Git <span class="keyword">is</span> free software.</span><br></pre></td></tr></table></figure></p>
<p>然后把文件放到Git仓库只需二步，第一步把文件添加到仓库<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add readme.txt</span><br></pre></td></tr></table></figure></p>
<p>第二步把文件提交到仓库<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">"wrote a readme.txt file"</span></span><br></pre></td></tr></table></figure></p>
<p>注意：-m参数是提交时的参数说明，不能省略否则会报错，平时使用时可以多次git add添加文件然后一次git commit提交所有已经添加的文件</p>
<h3 id="版本管理">版本管理</h3><h4 id="1-版本库状态">1.版本库状态</h4><p>在之前创建的文件的目录里输入如下命令可以查看当前仓库的状态，主要仓库状态有修改未添加未提交，修改已添加未提交，修改已添加已提交等<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure></p>
<p>如果你修改文件后输入如下命令来查看具体修改了哪些内容,知道修改了哪些内容后再执行<code>git add</code>和<code>git commit</code>就放心多了，期间也可以用<code>git status</code>随时查看仓库的状态<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git diff readme.txt</span><br></pre></td></tr></table></figure></p>
<h4 id="2-版本回退">2.版本回退</h4><p>当我们提交了2次更改后发现需要回退到之前的版本，可以先输入如下的命令查看之前提交的历史记录<code>git log</code>命令显示最近到最远的提交日志<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span></span><br></pre></td></tr></table></figure></p>
<p>命令行窗口返回如下内容（举例）<br><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3628164</span>fb<span class="number">26d48395383</span>f<span class="number">8f31179f24</span>e<span class="number">0882e1e0</span> append GPL</span><br><span class="line">ea<span class="number">34578d5496</span>d7dd<span class="number">233c827</span>ed32a8cd576c5ee85 add distributed</span><br><span class="line">cb926e7ea50ad<span class="number">11b8f9e90</span><span class="number">9c05226233</span>bf755030 wrote a readme file</span><br></pre></td></tr></table></figure></p>
<p>注意：<code>git log</code>命令显示最近到最远的提交日志，每一行前面的一串字符串是commit id之后用来作为回退的标记，后面的“append GPL”是当时提交的描述说明（到此可见当时加上描述还是满需要的，否则分不清提交了什么），每提交一次<code>git log</code>就会多一条记录</p>
<p>现在开始回退到上一版本，命令如下<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset --hard HEAD^</span><br></pre></td></tr></table></figure></p>
<p>注意:HEAD表示当前版本，HEAD^表示上一版本（也可以用具体的commit id代替HEAD^），以此类推，–hard代表的意思可以先不管，然后打开readme.txt文件查看是不是会退了上一版本，如果你回退多次（或者重启过电脑）后已经不知道commit id了，那么还是有办法的，输入如下命令可以查看命令历史（之前的git log是提交历史）<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reflog</span><br></pre></td></tr></table></figure></p>
<p>返回如下数据到窗口<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ea34578 HEAD@&#123;<span class="number">0</span>&#125;: reset: moving to HEAD^</span><br><span class="line"><span class="number">3628164</span> HEAD@&#123;<span class="number">1</span>&#125;: commit: append GPL</span><br><span class="line">ea34578 HEAD@&#123;<span class="number">2</span>&#125;: commit: add distributed</span><br><span class="line">cb926e7 HEAD@&#123;<span class="number">3</span>&#125;: commit (initial): wrote a readme file</span><br></pre></td></tr></table></figure></p>
<p>之前每次提交的commit id又都出现了，又可以愉快的回退到各版本了</p>
<h4 id="3-管理修改">3.管理修改</h4><p>这一节需要注意的是你commit的文件前提是已添加（就是执行过git add），如果没有添加则不会commit到仓库，如果还要commit到仓库则还需要执行一边git add</p>
<h4 id="4-撤销修改">4.撤销修改</h4><p>如果你添加了文件但是没有提交，发现里面有不合适的内容如何破，执行如下命令，让文件回到最近一次git commit或git add时的状态<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -- readme.txt</span><br></pre></td></tr></table></figure></p>
<p>注意：还可以使用<code>git reset HEAD file</code>以把暂存区的修改撤销掉，<code>git reset</code>命令既可以回退版本，也可以把暂存区的修改回退到工作区(git add后)</p>
<h4 id="5-删除文件">5.删除文件</h4><p>一种就是你未提交的文件可以直接在文件管理器中删除，然后<code>git status</code>知道你删除了文件，再执行<code>git commit</code>就可以了</p>
<p>还有一种可能就是你提交了文件，可以执行<code>git rm</code>并且<code>git commit</code>就可以了，这种情况不用担心误删，你还可以用之前学到的命令恢复</p>
<h3 id="远程仓库">远程仓库</h3><p>到目前为止你的你所操作的文件都是在你本地的机器上，如果硬盘挂了那就麻烦了，接下来把你的本地仓库托管到GitHub上</p>
<h4 id="1-添加远程仓库">1.添加远程仓库</h4><p>由于你的本地Git仓库和GitHub仓库之间的传输是通过SSH加密的，所以第一步要创建SSH Key，在命令行窗口执行以下命令<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">"youremail@example.com"</span></span><br></pre></td></tr></table></figure></p>
<p>可以在用户主目录里找到.ssh目录，里面有id_rsa和id_rsa.pub两个文件，这两个就是SSH Key的秘钥对，id_rsa是私钥，不能泄露出去，id_rsa.pub是公钥，可以放心地告诉任何人</p>
<p>第二步登陆GitHub（事先注册好GitHub帐号），打开“Account settings”，“SSH Keys”页面，然后，点“Add SSH Key”，填上任意Title，在Key文本框里粘贴id_rsa.pub文件的内容，如果你又多台电脑可以重复这一步添加SSH Key</p>
<p>第三步登入GitHub创建一个仓库learn-git,然后在本地的learn-git目录输入如下命令<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin git@github.com:yourusername/learngit.git</span><br></pre></td></tr></table></figure></p>
<p>然后把你本地的仓库推送到GitHub<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure></p>
<p>第一次推送要加-u参数，次操作会把本地的master分支和远程的master分支关联起来，推送成功后可以登入网页端查看推送的内容和本地一致，以后只要修改了内容就可以执行<code>git push -u origin master</code>推送到GitHub</p>
<h4 id="2-从远程仓库克隆">2.从远程仓库克隆</h4><p>之前说的是先有本地库然后关联远程库，现在看现有远程库然后本地克隆远程的，在GitHub新建一个仓库git-skills，此时远程的仓库已经准备好，现在在本地执行如下命令<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:yourusername/git-skills.git</span><br></pre></td></tr></table></figure></p>
<p>如果多人开发，每个人都可以从这个仓库克隆到本地</p>
<p><a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000" target="_blank" rel="external">廖雪峰的Git教程</a>写下来的，算是读书笔记吗？<br>链接：<a href="http://www.liaoxuefeng.com/，如有问题，请联系我删除此文章" target="_blank" rel="external">http://www.liaoxuefeng.com/，如有问题，请联系我删除此文章</a></p>
</div></article></div></section><footer><div class="paginator"><a class="prev"> </a><a href="/2015/11/18/前端学习路线/" class="next">下一篇</a></div><div data-thread-key="2015/11/18/Git入门/" data-title="Git入门" data-url="http://yoursite.com/2015/11/18/Git入门/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"hbqi"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
})();

</script></footer><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "//hm.baidu.com/hm.js?a36e15d9e2adec9a21fcdd9f686b1ed2";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>